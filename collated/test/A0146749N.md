# A0146749N
###### \java\guitests\AddCommandTest.java
``` java
	private void assertAddSuccess(TestTask taskToAdd, TestTask... currentList) {
		commandBox.runCommand(taskToAdd.getAddCommand());

		// confirm the new card contains the right data
		TaskCardHandle addedCard = taskListPanel.navigateToPerson(taskToAdd.getName());
		assertMatching(taskToAdd, addedCard);

		// confirm the list now contains all previous persons plus the new
		// person
		TestTask[] expectedList = TestUtil.addTasksToList(currentList, taskToAdd);
		assertTrue(taskListPanel.isListMatching(expectedList));
	}

}
```
###### \java\guitests\ClearCommandTest.java
``` java
public class ClearCommandTest extends DailyPlannerGuiTest {

    @Test
    public void clear() {

        //verify a non-empty list can be cleared
        assertTrue(taskListPanel.isListMatching(td.getTypicalTasks()));
        assertClearCommandSuccess();

        //verify other commands can work after a clear command
        commandBox.runCommand(td.learnPython.getAddCommand());
        assertTrue(taskListPanel.isListMatching(td.learnPython));
        commandBox.runCommand("delete 1");
        assertListSize(0);

        //verify clear command works when the list is empty
        assertClearCommandSuccess();
    }

    private void assertClearCommandSuccess() {
        commandBox.runCommand("clear");
        assertListSize(0);
        assertResultMessage("Daily Planner has been cleared!");
    }
}
```
###### \java\guitests\CommandBoxTest.java
``` java
    @Test
    public void commandBox_commandSucceeds_textCleared() {
        commandBox.runCommand(td.CS2103_Lecture.getAddCommand());
        assertEquals(commandBox.getCommandInput(), "");
    }

    @Test
    public void commandBox_commandFails_textStays(){
        commandBox.runCommand("invalid command");
        assertEquals(commandBox.getCommandInput(), "invalid command");
        //TODO: confirm the text box color turns to red
    }

}
```
###### \java\guitests\CompleteCommandTest.java
``` java
	@Test
	public void complete() {
		
		TestTask[] currentList = td.getTypicalTasks();
		TestTask taskToComplete = td.CS2103_Project;
		assertCompleteSuccess("complete 1", taskToComplete);
	}

	private void assertCompleteSuccess(String command, TestTask taskToComplete) {
		
		commandBox.runCommand(command);
		//confirm the new card contains the right data
        TaskCardHandle completedCard = taskListPanel.navigateToPerson(taskToComplete.getName());
        assertEquals("Task is complete", completedCard.getCompletion(), "COMPLETE");
		
	}

}
```
###### \java\guitests\HelpWindowTest.java
``` java
    @Test
    public void openHelpWindow() {

        taskListPanel.clickOnListView();

        assertHelpWindowOpen(mainMenu.openHelpWindowUsingAccelerator());

        assertHelpWindowOpen(mainMenu.openHelpWindowUsingMenu());

        assertHelpWindowOpen(commandBox.runHelpCommand());

    }

    private void assertHelpWindowOpen(HelpWindowHandle helpWindowHandle) {
        assertTrue(helpWindowHandle.isWindowOpen());
        helpWindowHandle.closeWindow();
    }
}
```
###### \java\guitests\PinCommandTest.java
``` java
	@Test
	public void pin() {

		TestTask[] currentList = td.getTypicalTasks();
		TestTask taskToPin = td.CS2103_Project;
		assertPinSuccess("pin 1", taskToPin);

	}

	private void assertPinSuccess(String command, TestTask taskToPin) {

		commandBox.runCommand(command);

		// confirm there is now 1 task in the pinned list
		assertEquals(pinnedListPanel.getNumberOfPeople(), 1);
	}
}
```
###### \java\guitests\SelectCommandTest.java
``` java
public class SelectCommandTest extends DailyPlannerGuiTest {


    @Test
    public void selectPerson_nonEmptyList() {

        assertSelectionInvalid(10); //invalid index
        assertNoPersonSelected();

        assertSelectionSuccess(1); //first person in the list
        int personCount = td.getTypicalTasks().length;
        assertSelectionSuccess(personCount); //last person in the list
        int middleIndex = personCount / 2;
        assertSelectionSuccess(middleIndex); //a person in the middle of the list

        assertSelectionInvalid(personCount + 1); //invalid index
        assertPersonSelected(middleIndex); //assert previous selection remains

        /* Testing other invalid indexes such as -1 should be done when testing the SelectCommand */
    }

    @Test
    public void selectPerson_emptyList(){
        commandBox.runCommand("clear");
        assertListSize(0);
        assertSelectionInvalid(1); //invalid index
    }

    private void assertSelectionInvalid(int index) {
        commandBox.runCommand("select " + index);
        assertResultMessage("The task index provided is invalid");
    }

    private void assertSelectionSuccess(int index) {
        commandBox.runCommand("select " + index);
        assertResultMessage("Selected Task: "+index);
        assertPersonSelected(index);
    }

    private void assertPersonSelected(int index) {
        assertEquals(taskListPanel.getSelectedPersons().size(), 1);
        ReadOnlyTask selectedPerson = taskListPanel.getSelectedPersons().get(0);
        assertEquals(taskListPanel.getPerson(index-1), selectedPerson);
        //TODO: confirm the correct page is loaded in the Browser Panel
    }

    private void assertNoPersonSelected() {
        assertEquals(taskListPanel.getSelectedPersons().size(), 0);
    }

}
```
###### \java\guitests\ShowCommandTest.java
``` java
	@Test
	public void show() {

		TestTask[] currentList = td.getTypicalTasks();

		assertShowResult("show", currentList); // show all tasks

		assertShowResult("show today", td.SoccerWithFriends, td.BuyGroceries); // show
																				// tasks
																				// today
		assertShowResult("show completed", td.CS2103_Lecture, td.BuyGroceries); // show
																				// completed
	}

	private void assertShowResult(String command, TestTask... expectedHits) {
		commandBox.runCommand(command);
		assertListSize(expectedHits.length);
		if (command.equals("show")) {
			assertResultMessage("Showing all tasks");
		} else {
			assertResultMessage("Showing " + expectedHits.length + " tasks");
		}
		assertTrue(taskListPanel.isListMatching(expectedHits));

	}

}
```
###### \java\seedu\testplanner\commons\util\DateUtilTest.java
``` java
	@Test
	public void convertHourTo24HrTest() {
		int result = DateUtil.convertTo24HrFormat(new Time("09.00AM"));
		assertEquals(9, result);
	}

}
```
###### \java\seedu\testplanner\testutil\TaskBuilder.java
``` java
	private TestTask task;
	nattyParser np;

	public TaskBuilder() {
		this.task = new TestTask();
		np = new nattyParser();
	}

	public TaskBuilder withName(String name) {
		this.task.setName(name);
		return this;
	}

	public TaskBuilder withStartDateAndTime(String st) {
		String convertedSt = np.parse(st);
		String[] dateTimeArray = convertedSt.split(" ");
		this.task.setStart(new DateTime(new Date(dateTimeArray[0]), new Time(dateTimeArray[1])));
		return this;
	}

	public TaskBuilder withStartDate(String st) {
		String convertedSt = np.parseDate(st);
		this.task.setStart(new DateTime(new Date(convertedSt), new Time("")));
		return this;
	}
	
	public TaskBuilder withoutStart() {
		this.task.setStart(new DateTime(new Date(""), new Time("")));
		return this;
	}

	public TaskBuilder withEndDateAndTime(String et) {
		String convertedEt = np.parse(et);
		String[] dateTimeArray = convertedEt.split(" ");
		this.task.setEnd(new DateTime(new Date(dateTimeArray[0]), new Time(dateTimeArray[1])));
		return this;
	}
	
	public TaskBuilder withEndDate(String et) {
		String convertedEt = np.parseDate(et);
		this.task.setEnd(new DateTime(new Date(convertedEt), new Time("")));
		return this;
	}
	
	public TaskBuilder withoutEnd() {
		this.task.setEnd(new DateTime(new Date(""), new Time("")));
		return this;
	}
	
	public TaskBuilder withCompletion(boolean completion) {
		this.task.setCompletion(completion);
		return this;
	}
	
	public TaskBuilder withPin(boolean pinStatus){
		this.task.setPin(pinStatus);
		return this;
	}

	public TaskBuilder withCategories(String... cats) throws IllegalValueException {
		for (String cat : cats) {
			task.getTags().add(new Category(cat));
		}
		return this;
	}

	public TestTask build() {
		return this.task;
	}
	
	public Task buildAsTask() {
	    Task toReturn = this.task.asTask();
	    
	    return toReturn;
	}

}
```
###### \java\seedu\testplanner\testutil\TestTask.java
``` java
	private String name;
	private DateTime start;
	private DateTime end;
	private boolean isComplete;
	private boolean isPinned;
	private UniqueCategoryList tags;

	public TestTask() {
		tags = new UniqueCategoryList();
	}

	public void setName(String name) {
		this.name = name;
	}

	public void setStart(DateTime start) {
		this.start = start;
	}

	public void setEnd(DateTime end) {
		this.end = end;
	}

	public void setCompletion(boolean completeStatus) {
		this.isComplete = completeStatus;
	}

	@Override
	public void markAsComplete() {
		isComplete = true;
	}

	@Override
	public void markAsNotComplete() {
		isComplete = false;
	}

	public void setPin(boolean pinStatus) {
		this.isPinned = pinStatus;
	}

	@Override
	public void pin() {
		isPinned = true;
	}

	@Override
	public void unpin() {
		isPinned = false;
	}

	@Override
	public String getName() {
		return name;
	}

	@Override
	public DateTime getStart() {
		return start;
	}

	@Override
	public DateTime getEnd() {
		return end;
	}

	@Override
	public boolean isComplete() {
		return isComplete;
	}

	@Override
	public String getCompletion() {
		return (isComplete) ? "COMPLETE" : "NOT COMPLETE";
	}

	@Override
	public boolean isPinned() {
		return isPinned;
	}

	@Override
	public UniqueCategoryList getTags() {
		return tags;
	}

	@Override
	public String getDueStatus() {
		return Task.calculateDueStatus(end);
	}

```
###### \java\seedu\testplanner\testutil\TestUtil.java
``` java
    public static final Task[] sampleTaskData = getSampleTaskData();

    private static Task[] getSampleTaskData() {
        return new Task[]{
		        new Task("Arobics class", new DateTime(new Date("01/12/2016"), new Time("07.00PM")),  new DateTime(new Date("01/12/2016"), new Time("10.00PM")), false, false, new UniqueCategoryList()),
		        new Task("Basketball with friends", new DateTime(new Date("04/12/2016"), new Time("05.00PM")),  new DateTime(new Date("01/12/2016"), new Time("")), false, false, new UniqueCategoryList()),
		        new Task("CS2103 Project", new DateTime(new Date("01/11/2016"), new Time("")),  new DateTime(new Date("07/11/2016"), new Time("11.59PM")), false, false, new UniqueCategoryList()),
		        new Task("Dance session", new DateTime(new Date("02/12/2016"), new Time("10.00AM")),  new DateTime(new Date("02/12/2016"), new Time("12.00PM")), false, false, new UniqueCategoryList()),
		        new Task("Embroidery class", new DateTime(new Date("03/12/2016"), new Time("08.00PM")),  new DateTime(new Date("03/12/2016"), new Time("10.00PM")), false, false, new UniqueCategoryList()),
		        new Task("Finance homework", new DateTime(new Date("06/12/2016"), new Time("07.00PM")),  new DateTime(new Date("06/12/2016"), new Time("10.00PM")), false, false, new UniqueCategoryList()),
		        new Task("Geography homework", new DateTime(new Date("07/12/2016"), new Time("07.00AM")),  new DateTime(new Date("07/12/2016"), new Time("11.00AM")), false, false, new UniqueCategoryList()),
		        new Task("HIIT workout", new DateTime(new Date("07/12/2016"), new Time("10.00PM")),  new DateTime(new Date("07/12/2016"), new Time("11.00PM")), false, false, new UniqueCategoryList()),
		        new Task("India trip", new DateTime(new Date("01/01/2017"), new Time("")),  new DateTime(new Date("15/01/2017"), new Time("")), false, false, new UniqueCategoryList()),
		};
    }

    public static final Category[] sampleTagData = getSampleTagData();

    private static Category[] getSampleTagData() {
        try {
            return new Category[]{
                    new Category("school"),
                    new Category("sports")
            };
        } catch (IllegalValueException e) {
            assert false;
            return null;
            //not possible
        }
    }

    public static List<Task> generateSamplePersonData() {
        return Arrays.asList(sampleTaskData);
    }
```
###### \java\seedu\testplanner\testutil\TypicalTestTask.java
``` java
	public static TestTask CS2103_Lecture, CS2103_Project, MA1101R_Homework, SoccerWithFriends, BuyGroceries,
			WatchMovie, learnPython, learnSpanish, GoSkydiving;

	public TypicalTestTask() {
		try {
			CS2103_Project = new TaskBuilder().withName("CS2103 Project").withStartDateAndTime("yesterday 1am")
					.withEndDateAndTime("yesterday 2am").withCompletion(false).withPin(false).withCategories("Homework")
					.build();
			CS2103_Lecture = new TaskBuilder().withName("CS2103 Lecture").withStartDateAndTime("yesterday 2pm")
					.withEndDateAndTime("yesterday 4pm").withCompletion(true).withPin(false).withCategories("School")
					.build();
			MA1101R_Homework = new TaskBuilder().withName("MA1101R Homework").withStartDate("yesterday 10pm")
					.withEndDateAndTime("yesterday 11pm").withCompletion(false).withPin(false).build();
			SoccerWithFriends = new TaskBuilder().withName("Soccer with friends").withStartDateAndTime("today 10am")
					.withEndDateAndTime("today 12pm").withCompletion(false).withPin(false).withCategories("Sports")
					.build();
			BuyGroceries = new TaskBuilder().withName("Buy groceries").withStartDateAndTime("today 2pm")
					.withEndDateAndTime("today 4pm").withCompletion(true).withPin(false).withCategories("Chores")
					.build();
			WatchMovie = new TaskBuilder().withName("Watch movie").withStartDateAndTime("tomorrow 6pm")
					.withEndDateAndTime("tomorrow 8pm").withCompletion(false).withPin(false).build();
			learnPython = new TaskBuilder().withName("Learn python").withStartDate("next month").withoutEnd()
					.withCompletion(false).withPin(false).withCategories("Selfimprovement").build();
			// Manually added
			learnSpanish = new TaskBuilder().withName("Learn Spanish").withStartDateAndTime("next year").withoutEnd()
					.withCompletion(false).withPin(false).build();
			GoSkydiving = new TaskBuilder().withName("Go skydiving").withoutStart().withoutEnd().withCompletion(false)
					.withPin(false).withCategories("Bucketlist").build();
		} catch (IllegalValueException e) {
			e.printStackTrace();
			assert false : "not possible";
		}
	}

	public static void loadAddressBookWithSampleData(DailyPlanner dp) {

		try {
			dp.addPerson(new Task(CS2103_Project));
			dp.addPerson(new Task(CS2103_Lecture));
			dp.addPerson(new Task(MA1101R_Homework));
			dp.addPerson(new Task(SoccerWithFriends));
			dp.addPerson(new Task(BuyGroceries));
			dp.addPerson(new Task(WatchMovie));
			dp.addPerson(new Task(learnPython));
		} catch (UniqueTaskList.DuplicatePersonException e) {
			assert false : "not possible";
		}
	}

	public TestTask[] getTypicalTasks() {
		return new TestTask[] { CS2103_Project, CS2103_Lecture, MA1101R_Homework, SoccerWithFriends, BuyGroceries,
				WatchMovie, learnPython };
	}

	public DailyPlanner getTypicalAddressBook() {
		DailyPlanner ab = new DailyPlanner();
		loadAddressBookWithSampleData(ab);
		return ab;
	}
}
```
